<!DOCTYPE html>
<html>
<head>
  <title>Trust Wallet Message Signing</title>
</head>
<body>
<button id="signMessageButton">Sign Message</button>

<script>
  document.getElementById("signMessageButton").addEventListener("click", async function() {
    // 检查是否存在 window.ethereum
    if (typeof window.ethereum === "undefined") {
      alert("Trust Wallet (window.ethereum) not detected.");
      return;
    }

    try {
      // 请求用户签名消息
      const signature = await window.ethereum.request({
        jsonrpc:"2.0",
        method: "eth_sign",
        params: [
          "0x9b2055d370f73ec7d8a03e965129118dc8f5bf83",
          "Hello, Trust Wallet!"
        ],
        id:"1"
      });

      // 处理签名结果
      alert("Message Signature: " + signature);

      // 将签名结果发送到服务器以进行验证，或执行其他必要的操作

    } catch (error) {
      console.error("Error during message signing:", error);
      alert("Error during message signing: " + error.message);
    }
  });
</script>
</body>
</html>
