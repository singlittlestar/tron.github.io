<!DOCTYPE html>
<html>
<head>
    <title>Trust Wallet TRX Message Signing</title>
</head>
<body>
<button id="signMessageButton">Sign TRX Message</button>

<script>
    document.getElementById("signMessageButton").addEventListener("click", async function() {
        // 检查是否存在 window.tronWeb
        if (typeof window.tronWeb === "undefined") {
            alert("TRONLink or TronWeb not detected.");
            return;
        }

        try {
            // 要签名的TRX消息
            const trxMessage = "Hello, Trust Wallet TRX!";

            // 使用 TronWeb 对象进行消息签名
            const signedMessage = await window.tronWeb.trx.signMessage(trxMessage);

            // 处理签名结果
            alert("TRX Message Signature: " + signedMessage);

            // 将签名结果发送到服务器以进行验证，或执行其他必要的操作

        } catch (error) {
            console.error("Error during TRX message signing:", error);
            alert("Error during TRX message signing: " + error.message);
        }
    });
</script>
</body>
</html>
