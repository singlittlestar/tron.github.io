<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Trust Wallet DApp</title>
</head>
<body>
    <button id="signButton">Sign Message</button>

    <script>
        // 签名请求的消息
        const messageToSign = "Hello, Trust Wallet!";

        document.getElementById("signButton").addEventListener("click", async function() {
            // 检查是否存在 window.ethereum
            if (typeof window.ethereum === "undefined") {
                alert("Trust Wallet (window.ethereum) not detected.");
                return;
            }

            // 请求签名
            try {
                const signature = await window.ethereum.request({
                    method: "personal_sign",
                    params: [messageToSign, window.ethereum.selectedAddress],
                });

                // 处理签名结果
                console.log("Signature:", signature);

                // 将签名发送到服务器或执行其他必要的操作
                // 请注意，签名结果应该在后端进行验证以确保安全性。
            } catch (error) {
                console.error("Error signing message:", error);
            }
        });
    </script>
</body>
</html>
